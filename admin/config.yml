backend:
  name: github
  repo: TrackDates/Gittonettlify
  branch: main

  # Netlify OAuth (works when hosted on Netlify)
  base_url: https://api.netlify.com
  auth_endpoint: auth

publish_mode: simple

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

collections:
  - name: "trackdates_data"
    label: "TrackDates Data"
    files:
      - file: "data/locations.json"
        label: "Locations"
        name: "locations"
        format: "json"
        fields:
          - label: "Locations"
            name: "locations"
            widget: "list"
            fields:
              - { label: "ID", name: "id", widget: "string" }
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Lat", name: "lat", widget: "number", value_type: "float" }
              - { label: "Lon", name: "lon", widget: "number", value_type: "float" }

      - file: "data/events-2026.json"
        label: "Events (2026)"
        name: "events_2026"
        format: "json"
        fields:
          - label: "Events"
            name: "events"
            widget: "list"
            summary: "{{fields.date}} â€” {{fields.eventName}}"
            fields:
              - { label: "ID", name: "id", widget: "string" }
              - { label: "Date (display)", name: "date", widget: "string" }
              - { label: "Event name", name: "eventName", widget: "string" }
              - { label: "Location ID", name: "locationId", widget: "string" }
              - { label: "Payout", name: "payout", widget: "string", required: false }
              - { label: "Event page URL", name: "eventPageUrl", widget: "string", required: false }
              - label: "Type"
                name: "type"
                widget: "select"
                options: ["standard", "dragdrive"]
                default: "standard"
              - { label: "MOM Day", name: "momDay", widget: "number", value_type: "int", required: false }
              - { label: "MOM Total", name: "momTotal", widget: "number", value_type: "int", required: false }
              - label: "Sponsors"
                name: "sponsors"
                widget: "list"
                required: false
                fields:
                  - { label: "Name", name: "name", widget: "string" }
                  - { label: "URL", name: "url", widget: "string" }
